<!--index.wxml-->
<view class="page">
  <!-- è½®æ’­å›¾éƒ¨åˆ† -->
  <swiper class="banner" indicator-dots="true" autoplay="true" interval="3000" duration="500">
    <block wx:for="{{banners}}" wx:key="id">
      <swiper-item>
        <image src="{{item.image}}" class="slide-image" mode="aspectFill"/>
      </swiper-item>
    </block>
  </swiper>

  <!-- é¤å…LOGOå’Œåç§° -->
  <view class="restaurant-info card">
    <image class="logo" src="{{restaurantInfo.logo}}" mode="aspectFit"></image>
    <view class="info">
      <view class="name text-bold">{{restaurantInfo.name}}</view>
      <view class="description text-secondary">{{restaurantInfo.description}}</view>
    </view>
  </view>

  <!-- æœç´¢æ¡† -->
  <view class="search-container">
    <view class="search-box">
      <icon type="search" size="16" color="#999"></icon>
      <input placeholder="æœç´¢èœå“" bindinput="onSearchInput" confirm-type="search" bindconfirm="onSearch"/>
    </view>
  </view>

  <!-- èœå“åˆ†ç±»å¯¼èˆª -->
  <view class="category-nav">
    <view class="category-title">èœå“åˆ†ç±»</view>
    <view class="category-list">
      <view class="category-item {{currentCategory === 'breakfast' ? 'active' : ''}}" bindtap="switchCategory" data-category="breakfast">
        <view class="category-icon">ğŸ³</view>
        <view class="category-name">æ—©é¤</view>
      </view>
      <view class="category-item {{currentCategory === 'lunch' ? 'active' : ''}}" bindtap="switchCategory" data-category="lunch">
        <view class="category-icon">ğŸ²</view>
        <view class="category-name">åˆé¤</view>
      </view>
      <view class="category-item {{currentCategory === 'dinner' ? 'active' : ''}}" bindtap="switchCategory" data-category="dinner">
        <view class="category-icon">ğŸ–</view>
        <view class="category-name">æ™šé¤</view>
      </view>
    </view>
  </view>

  <!-- æ¨èèœå“ -->
  <view class="recommended-dishes">
    <view class="section-title">æ¨èèœå“</view>
    <scroll-view scroll-x="true" class="dish-scroll">
      <view class="dish-list">
        <view class="dish-item card" wx:for="{{recommendedDishes}}" wx:key="id" bindtap="navigateToMenu" data-dish="{{item}}">
          <image class="dish-image" src="{{item.image}}" mode="aspectFill"></image>
          <view class="dish-info">
            <view class="dish-name text-bold">{{item.name}}</view>
            <view class="dish-price price">Â¥{{item.price}}</view>
          </view>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- æ‰«ç ç‚¹é¤æŒ‰é’® -->
  <view class="scan-btn-container">
    <button class="scan-btn btn-primary" bindtap="scanQRCode">
      <view class="btn-content">
        <image class="scan-icon" src="/images/icon/scan.png" mode="aspectFit"></image>
        <text>æ‰«ç ç‚¹é¤</text>
      </view>
    </button>
  </view>
</view>